# ğŸš€ æœåŠ¡ç«¯å¯åŠ¨æ€»ç»“

**å¯åŠ¨æ—¶é—´**: 2025-10-25
**é¡¹ç›®**: Cypridina é”€å”®ç®¡ç†ç³»ç»Ÿ

---

## ğŸ“Š å¯åŠ¨çŠ¶æ€

### å½“å‰è¿›åº¦

| æ­¥éª¤ | çŠ¶æ€ | è¯´æ˜ |
|------|------|------|
| 1. ä¾èµ–å®‰è£… | âœ… å®Œæˆ | 545 ä¸ªåŒ…å·²å®‰è£… |
| 2. ç¯å¢ƒé…ç½® | âœ… å®Œæˆ | .env å·²é…ç½® |
| 3. æ•°æ®åº“é…ç½® | âœ… å®Œæˆ | Prisma Schema å·²ä¿®å¤ |
| 4. Docker é…ç½® | âœ… å®Œæˆ | docker-compose.yml å·²åˆ›å»º |
| 5. å¯åŠ¨è„šæœ¬ | âœ… å®Œæˆ | start.sh å·²åˆ›å»º |
| 6. æ•°æ®åº“å¯åŠ¨ | â³ å¾…å¤„ç† | éœ€è¦å¯åŠ¨ PostgreSQL |
| 7. æ•°æ®åº“è¿ç§» | â³ å¾…å¤„ç† | éœ€è¦è¿è¡Œè¿ç§» |
| 8. æœåŠ¡å¯åŠ¨ | â³ å¾…å¤„ç† | éœ€è¦å¯åŠ¨æœåŠ¡ |

---

## ğŸ¯ å¿«é€Ÿå¯åŠ¨ (3 ç§æ–¹å¼)

### æ–¹å¼ 1: ä½¿ç”¨å¯åŠ¨è„šæœ¬ (æ¨è)

```bash
cd server
chmod +x start.sh
./start.sh
```

**ä¼˜ç‚¹**: è‡ªåŠ¨åŒ–å¤„ç†æ‰€æœ‰æ­¥éª¤

### æ–¹å¼ 2: ä½¿ç”¨ Docker Compose

```bash
cd server

# å¯åŠ¨ PostgreSQL
docker-compose up -d postgres

# ç­‰å¾…æ•°æ®åº“å°±ç»ª
sleep 3

# åˆå§‹åŒ–æ•°æ®åº“
npm run db:migrate
npm run db:seed

# å¯åŠ¨æœåŠ¡
npm run dev
```

**ä¼˜ç‚¹**: å®Œå…¨éš”ç¦»çš„æ•°æ®åº“ç¯å¢ƒ

### æ–¹å¼ 3: æ‰‹åŠ¨å¯åŠ¨

```bash
cd server

# 1. ç¡®ä¿ PostgreSQL è¿è¡Œåœ¨ localhost:5432
# 2. åˆå§‹åŒ–æ•°æ®åº“
npm run db:migrate
npm run db:seed

# 3. å¯åŠ¨æœåŠ¡
npm run dev
```

**ä¼˜ç‚¹**: å®Œå…¨æ§åˆ¶æ¯ä¸ªæ­¥éª¤

---

## ğŸ“‹ å‰ç½®è¦æ±‚

### å¿…éœ€

- âœ… Node.js 18+ (å·²éªŒè¯)
- âœ… npm 9+ (å·²éªŒè¯)
- â³ PostgreSQL 12+ (éœ€è¦å¯åŠ¨)

### å¯é€‰

- Docker (ç”¨äºè¿è¡Œ PostgreSQL)
- Postman (ç”¨äºæµ‹è¯• API)

---

## ğŸ”§ å¯åŠ¨ PostgreSQL

### æ–¹å¼ 1: Docker (æ¨è)

```bash
cd server

# å¯åŠ¨ PostgreSQL å®¹å™¨
docker-compose up -d postgres

# éªŒè¯å®¹å™¨è¿è¡Œ
docker ps | grep cypridina-db
```

### æ–¹å¼ 2: Homebrew (macOS)

```bash
# å®‰è£…
brew install postgresql@15

# å¯åŠ¨
brew services start postgresql@15

# åˆ›å»ºæ•°æ®åº“
createdb cypridina
```

### æ–¹å¼ 3: ç³»ç»ŸåŒ…ç®¡ç†å™¨ (Linux)

```bash
# Ubuntu/Debian
sudo apt-get install postgresql postgresql-contrib
sudo systemctl start postgresql

# åˆ›å»ºæ•°æ®åº“
sudo -u postgres createdb cypridina
```

### æ–¹å¼ 4: Windows

- ä¸‹è½½: https://www.postgresql.org/download/windows/
- æŒ‰ç…§å®‰è£…å‘å¯¼è¿›è¡Œå®‰è£…
- è®°ä½å¯†ç  (é»˜è®¤ç”¨æˆ·: postgres)

---

## âœ… å¯åŠ¨æ­¥éª¤

### ç¬¬ä¸€æ­¥: å¯åŠ¨ PostgreSQL

é€‰æ‹©ä¸Šé¢çš„ä»»æ„ä¸€ç§æ–¹å¼å¯åŠ¨ PostgreSQL

### ç¬¬äºŒæ­¥: åˆå§‹åŒ–æ•°æ®åº“

```bash
cd server

# åˆ›å»ºæ•°æ®åº“è¡¨
npm run db:migrate

# å¯¼å…¥æµ‹è¯•æ•°æ® (å¯é€‰)
npm run db:seed
```

### ç¬¬ä¸‰æ­¥: å¯åŠ¨æœåŠ¡

```bash
npm run dev
```

**é¢„æœŸè¾“å‡º**:
```
[æœåŠ¡å™¨] æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000
[æ•°æ®åº“] æ•°æ®åº“è¿æ¥æˆåŠŸ
```

---

## ğŸ§ª éªŒè¯å¯åŠ¨æˆåŠŸ

### åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­æµ‹è¯•

```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/v1/health

# é¢„æœŸå“åº”
{
  "code": 0,
  "message": "æœåŠ¡å™¨è¿è¡Œæ­£å¸¸",
  "data": {
    "status": "ok"
  }
}
```

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error.log

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
tail -f logs/combined.log
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯**: `Can't reach database server at localhost:5432`

**è§£å†³**:
```bash
# æ£€æŸ¥ PostgreSQL æ˜¯å¦è¿è¡Œ
docker ps | grep cypridina-db

# å¦‚æœæ²¡æœ‰è¿è¡Œï¼Œå¯åŠ¨å®ƒ
docker-compose up -d postgres
```

### Q2: npm install å¤±è´¥

**é”™è¯¯**: `ERESOLVE unable to resolve dependency tree`

**è§£å†³**:
```bash
npm install --legacy-peer-deps
```

### Q3: ç«¯å£å·²è¢«å ç”¨

**é”™è¯¯**: `Error: listen EADDRINUSE :::3000`

**è§£å†³**:
```bash
# ä½¿ç”¨ä¸åŒçš„ç«¯å£
PORT=3001 npm run dev

# æˆ–æ€æ­»å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :3000
kill -9 <PID>
```

### Q4: æƒé™é”™è¯¯

**é”™è¯¯**: `npm error code EACCES`

**è§£å†³**:
```bash
sudo chown -R $(whoami) ~/.npm
```

---

## ğŸ“š å·²ç”Ÿæˆçš„æ–‡ä»¶

### é…ç½®æ–‡ä»¶

- âœ… `server/.env` - ç¯å¢ƒå˜é‡é…ç½®
- âœ… `server/docker-compose.yml` - Docker é…ç½®
- âœ… `server/start.sh` - å¯åŠ¨è„šæœ¬

### æ–‡æ¡£

- âœ… `æœåŠ¡ç«¯å¯åŠ¨æŒ‡å—.md` - è¯¦ç»†å¯åŠ¨æŒ‡å—
- âœ… `æœåŠ¡ç«¯å¯åŠ¨æ€»ç»“.md` - æœ¬æ–‡æ¡£

### æºä»£ç 

- âœ… 40+ ä¸ªæºä»£ç æ–‡ä»¶
- âœ… å®Œæ•´çš„ API å®ç°
- âœ… å®Œæ•´çš„æ•°æ®åº“è®¾è®¡

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. **å¯åŠ¨ PostgreSQL**
   ```bash
   docker-compose up -d postgres
   ```

2. **åˆå§‹åŒ–æ•°æ®åº“**
   ```bash
   npm run db:migrate
   npm run db:seed
   ```

3. **å¯åŠ¨æœåŠ¡**
   ```bash
   npm run dev
   ```

4. **æµ‹è¯• API**
   ```bash
   curl http://localhost:3000/api/v1/health
   ```

---

## ğŸ“– ç›¸å…³æ–‡æ¡£

- `server/README.md` - é¡¹ç›®è¯´æ˜
- `server/DEVELOPMENT.md` - å¼€å‘æŒ‡å—
- `server/API_TESTING.md` - API æµ‹è¯•æŒ‡å—
- `æœåŠ¡ç«¯å¯åŠ¨æŒ‡å—.md` - è¯¦ç»†å¯åŠ¨æŒ‡å—

---

## ğŸ’¡ æç¤º

### ä½¿ç”¨ Prisma Studio æŸ¥çœ‹æ•°æ®åº“

```bash
npm run db:studio
```

### æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤

```bash
npm run
```

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
npm run start
```

---

## âœ¨ æ€»ç»“

**æœåŠ¡ç«¯å·²å‡†å¤‡å¥½å¯åŠ¨ï¼** ğŸš€

æ‰€æœ‰ä¾èµ–å·²å®‰è£…ï¼Œæ‰€æœ‰é…ç½®å·²å®Œæˆï¼Œåªéœ€è¦:

1. å¯åŠ¨ PostgreSQL
2. åˆå§‹åŒ–æ•°æ®åº“
3. å¯åŠ¨æœåŠ¡

**é¢„è®¡å¯åŠ¨æ—¶é—´**: 2-3 åˆ†é’Ÿ

---

**æœ€åæ›´æ–°**: 2025-10-25
**çŠ¶æ€**: âœ… å‡†å¤‡å°±ç»ª

