# ğŸš€ æœåŠ¡ç«¯å¯åŠ¨æŒ‡å—

## ğŸ“‹ å‰ç½®è¦æ±‚

### 1. Node.js å’Œ npm

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬ (éœ€è¦ 18+)
node --version

# æ£€æŸ¥ npm ç‰ˆæœ¬ (éœ€è¦ 9+)
npm --version
```

### 2. PostgreSQL æ•°æ®åº“

#### æ–¹æ¡ˆ A: ä½¿ç”¨ Docker (æ¨è)

```bash
# å¯åŠ¨ PostgreSQL å®¹å™¨
docker run --name cypridina-db \
  -e POSTGRES_USER=postgres \
  -e POSTGRES_PASSWORD=postgres \
  -e POSTGRES_DB=cypridina \
  -p 5432:5432 \
  -d postgres:15

# æ£€æŸ¥å®¹å™¨æ˜¯å¦è¿è¡Œ
docker ps | grep cypridina-db
```

#### æ–¹æ¡ˆ B: æœ¬åœ°å®‰è£… PostgreSQL

**macOS**:
```bash
# ä½¿ç”¨ Homebrew å®‰è£…
brew install postgresql@15

# å¯åŠ¨ PostgreSQL
brew services start postgresql@15

# åˆ›å»ºæ•°æ®åº“
createdb cypridina
```

**Ubuntu/Debian**:
```bash
# å®‰è£… PostgreSQL
sudo apt-get install postgresql postgresql-contrib

# å¯åŠ¨æœåŠ¡
sudo systemctl start postgresql

# åˆ›å»ºæ•°æ®åº“
sudo -u postgres createdb cypridina
```

**Windows**:
- ä¸‹è½½å®‰è£…ç¨‹åº: https://www.postgresql.org/download/windows/
- æŒ‰ç…§å®‰è£…å‘å¯¼è¿›è¡Œå®‰è£…
- è®°ä½å¯†ç  (é»˜è®¤ç”¨æˆ·: postgres)

---

## âœ… å¯åŠ¨æ­¥éª¤

### ç¬¬ä¸€æ­¥: è¿›å…¥æœåŠ¡ç«¯ç›®å½•

```bash
cd server
```

### ç¬¬äºŒæ­¥: å®‰è£…ä¾èµ–

```bash
npm install --legacy-peer-deps
```

**é¢„æœŸè¾“å‡º**:
```
added 545 packages in 27s
found 0 vulnerabilities
```

### ç¬¬ä¸‰æ­¥: åˆå§‹åŒ–æ•°æ®åº“

```bash
# åˆ›å»ºæ•°æ®åº“è¿ç§»
npm run db:migrate

# ç§å­æ•°æ® (å¯é€‰)
npm run db:seed
```

**é¢„æœŸè¾“å‡º**:
```
âœ” Generated Prisma Client
âœ” Your database has been successfully migrated
```

### ç¬¬å››æ­¥: å¯åŠ¨æœåŠ¡

```bash
npm run dev
```

**é¢„æœŸè¾“å‡º**:
```
[æœåŠ¡å™¨] æœåŠ¡å™¨è¿è¡Œåœ¨ http://localhost:3000
[æ•°æ®åº“] æ•°æ®åº“è¿æ¥æˆåŠŸ
```

---

## ğŸ§ª æµ‹è¯•æœåŠ¡

### åœ¨å¦ä¸€ä¸ªç»ˆç«¯ä¸­æµ‹è¯• API

```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:3000/api/v1/health

# ç”¨æˆ·æ³¨å†Œ
curl -X POST http://localhost:3000/api/v1/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "password": "Test@123456",
    "name": "æµ‹è¯•ç”¨æˆ·",
    "company": "æµ‹è¯•å…¬å¸"
  }'

# ç”¨æˆ·ç™»å½•
curl -X POST http://localhost:3000/api/v1/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@example.com",
    "password": "Admin@123456"
  }'
```

---

## ğŸ› å¸¸è§é—®é¢˜

### é—®é¢˜ 1: npm install å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
npm error code ERESOLVE
npm error ERESOLVE unable to resolve dependency tree
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
npm install --legacy-peer-deps
```

### é—®é¢˜ 2: æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
Error: Prisma schema validation
Error: Can't reach database server at `localhost:5432`
```

**è§£å†³æ–¹æ¡ˆ**:

1. æ£€æŸ¥ PostgreSQL æ˜¯å¦è¿è¡Œ:
```bash
# macOS
brew services list | grep postgresql

# Linux
sudo systemctl status postgresql

# Docker
docker ps | grep cypridina-db
```

2. æ£€æŸ¥ .env æ–‡ä»¶ä¸­çš„ DATABASE_URL:
```bash
# åº”è¯¥æ˜¯è¿™æ ·çš„æ ¼å¼
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/cypridina
```

3. å¦‚æœä½¿ç”¨ Dockerï¼Œç¡®ä¿å®¹å™¨æ­£åœ¨è¿è¡Œ:
```bash
docker start cypridina-db
```

### é—®é¢˜ 3: ç«¯å£å·²è¢«å ç”¨

**é”™è¯¯ä¿¡æ¯**:
```
Error: listen EADDRINUSE :::3000
```

**è§£å†³æ–¹æ¡ˆ**:

```bash
# æŸ¥æ‰¾å ç”¨ç«¯å£çš„è¿›ç¨‹
lsof -i :3000

# æ€æ­»è¿›ç¨‹
kill -9 <PID>

# æˆ–ä½¿ç”¨ä¸åŒçš„ç«¯å£
PORT=3001 npm run dev
```

### é—®é¢˜ 4: æƒé™é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
npm error code EACCES
npm error syscall mkdir
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# ä¿®å¤ npm ç¼“å­˜æƒé™
sudo chown -R $(whoami) ~/.npm

# æˆ–æ¸…é™¤ç¼“å­˜
npm cache clean --force
```

### é—®é¢˜ 5: Prisma è¿ç§»å¤±è´¥

**é”™è¯¯ä¿¡æ¯**:
```
Error: Prisma schema validation
```

**è§£å†³æ–¹æ¡ˆ**:
```bash
# é‡ç½®æ•°æ®åº“ (è°¨æ…ä½¿ç”¨!)
npm run db:push -- --force-reset

# æˆ–é‡æ–°åˆ›å»ºè¿ç§»
rm -rf prisma/migrations
npm run db:migrate
```

---

## ğŸ“Š éªŒè¯å¯åŠ¨æˆåŠŸ

### æ£€æŸ¥æ¸…å•

- [ ] npm install æˆåŠŸ (æ²¡æœ‰é”™è¯¯)
- [ ] npm run db:migrate æˆåŠŸ (æ•°æ®åº“è¡¨å·²åˆ›å»º)
- [ ] npm run dev å¯åŠ¨æˆåŠŸ (æœåŠ¡å™¨è¿è¡Œåœ¨ 3000 ç«¯å£)
- [ ] curl http://localhost:3000/api/v1/health è¿”å› 200

### æŸ¥çœ‹æ—¥å¿—

```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
tail -f logs/error.log

# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—
tail -f logs/combined.log
```

---

## ğŸ”§ å¼€å‘å‘½ä»¤

```bash
# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (å¸¦çƒ­é‡è½½)
npm run dev

# æ„å»º TypeScript
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start

# æ•°æ®åº“è¿ç§»
npm run db:migrate

# æ•°æ®åº“ç§å­
npm run db:seed

# æŸ¥çœ‹æ•°æ®åº“ (Prisma Studio)
npm run db:studio

# è¿è¡Œæµ‹è¯•
npm run test

# ç›‘å¬æ¨¡å¼æµ‹è¯•
npm run test:watch

# æµ‹è¯•è¦†ç›–ç‡
npm run test:coverage

# ä»£ç æ£€æŸ¥
npm run lint

# ä»£ç æ ¼å¼åŒ–
npm run format
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- `server/README.md` - é¡¹ç›®è¯´æ˜
- `server/DEVELOPMENT.md` - å¼€å‘æŒ‡å—
- `server/API_TESTING.md` - API æµ‹è¯•æŒ‡å—
- `APIæ¥å£è®¾è®¡æ–‡æ¡£.md` - API æ¥å£è®¾è®¡
- `æ•°æ®åº“è®¾è®¡æ–‡æ¡£.md` - æ•°æ®åº“è®¾è®¡

---

## ğŸ¯ ä¸‹ä¸€æ­¥

1. âœ… å¯åŠ¨æœåŠ¡
2. âœ… æµ‹è¯• API
3. âœ… æŸ¥çœ‹ Prisma Studio: `npm run db:studio`
4. âœ… å¼€å§‹å¼€å‘

---

## ğŸ’¡ æç¤º

### ä½¿ç”¨ Postman æµ‹è¯• API

1. ä¸‹è½½ Postman: https://www.postman.com/downloads/
2. å¯¼å…¥ API é›†åˆ (å‚è€ƒ `server/API_TESTING.md`)
3. è®¾ç½®ç¯å¢ƒå˜é‡:
   - `baseUrl`: http://localhost:3000
   - `token`: (ç™»å½•åè·å–)

### æŸ¥çœ‹æ•°æ®åº“

```bash
# ä½¿ç”¨ Prisma Studio (æ¨è)
npm run db:studio

# æˆ–ä½¿ç”¨ psql å‘½ä»¤è¡Œ
psql -U postgres -d cypridina
```

---

**ç¥ä½ å¼€å‘é¡ºåˆ©ï¼** ğŸš€

