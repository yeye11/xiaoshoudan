# 视频去水印功能说明

## 功能概述
项目已集成视频去水印工具，支持解析并下载抖音、快手、小红书、TikTok 链接内容。

功能入口：`/mobile/video-tools/tools`

## 当前实现
### 前端
- 页面：`src/routes/mobile/video-tools/tools/+page.svelte`
- 服务层：`src/lib/services/videoParser.ts`
- 首页入口：`src/routes/mobile/+page.svelte`（功能模块中提供跳转）

### 后端
- SvelteKit API：
  - `src/routes/api/video-tools-parse-douyin/+server.ts`
  - `src/routes/api/video-tools-download-video/+server.ts`
  - `src/routes/api/video-tools-proxy-video/+server.ts`
- Tauri Rust 命令：
  - `parse_douyin_video`
  - `download_video`
  - `fetch_video_base64`

## 支持能力
- 平台识别与链接提取
- 多解析源降级
- 视频预览
- 图文内容下载（图片）
- 视频保存到本地下载目录

## 环境差异
### Tauri 环境（桌面/移动 App）
- 优先走 Rust 命令进行解析与下载
- Android 默认保存到 `/storage/emulated/0/Download`

### 浏览器环境
- 使用 SvelteKit API 代理请求
- 下载能力受浏览器权限与跨域限制影响

## 使用流程
1. 复制平台分享链接
2. 打开“视频去水印”页面并粘贴链接
3. 点击解析
4. 预览后点击保存

## 已清理内容
本文档已移除旧路由、过期文件路径和与当前实现不一致的描述，仅保留当前代码可验证的信息。
